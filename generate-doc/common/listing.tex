\usepackage{listings}
\definecolor{lbcolor}{rgb}{0.92,0.92,0.93}

\lstset{
    backgroundcolor=\color{lbcolor},
    tabsize=4,
    language={},
    captionpos=b,
    tabsize=3,
    frame=lines,
    numbers=left,
    numberstyle=\tiny,
    numbersep=5pt,
    upquote=true,
    breaklines=true,
    % breakatwhitespace,
    showstringspaces=false,
    basicstyle=\ttfamily\lst@ifdisplaystyle\small\else\fontmonoinline\fi,
    columns=fullflexible, % Ok if we use a fixed width font, fixes copy pase problem
    % identifierstyle=\color{Magenta!90},
    keywordstyle=\color{NavyBlue!80},
    commentstyle=\color{OliveGreen!80},
    stringstyle=\color{WildStrawberry}
}

% https://github.com/jgm/pandoc-templates/commit/3b58ea12d943ddc7a5c8e8d03a31cde9881ad5b1
\newcommand{\passthrough}[1]{#1}

% https://tex.stackexchange.com/a/27718/120111
\makeatletter
\def\lst@filenamerpl{_\textunderscore $\textdollar}
\makeatother
